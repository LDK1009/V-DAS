# 소개
비전파워 캠프 기숙사 자동 배정 프로그램입니다.
특정한 데이터 형식을 가진 엑셀 파일을 업로드 시 자동 배정된 기숙사 배정표와 교회별 배정 카드를 출력합니다.

<br/>

# 주요기능
* 엑셀 파일 업로드
* 사용하는 층 선택
* 성별 별 사용층 분류
* 방 1개당 최대 인원 설정
* 특정 방의 최대 인원수 설정 가능
* 자동 기숙사 배정
* 전체 배정표, 교회별 배정 카드, 출력 양식 엑셀 파일 다운로드
  
<br/>

# 페이지
**1.메인 페이지**
* 차수 선택 가능
* 교회 검색 가능(검색 시 배정 카드 제공)

**2.어드민 페이지**
* 엑셀 파일 업로드 버튼
* 업로드 된 엑셀 파일 데이터 시각화 표
* 성별 별 사용층 선택기
* 교회 배정 편집기
* 자동 배정 버튼
* 나머지 인원 기준으로 그룹화된 교회 블럭
* 층별 배정 현황
* 교회명, 교회인원수 수동으로 변경 가능
* 교회를 추가 기능

<br/>

# 기숙사 자동 배정 조건
* 모든 검사는 모든 5번 라인을 저층에서 고층 순서로 확인한 후에 저층의 모든 라인을 검사한다(예: 1층 4,3,2,1 -> 2층 4,3,2,1 -> 3층...)
* 모든 검사를 통과 못하여서 사이드바로 빠진 교회들을 최대 4개씩 묶어서 총 인원 7이되는 조합을 만들고 빈방을 찾아 넣는다.

1. 인원 많은 교회부터 / 5번 라인부터 / 저층부터 / 배정하기
   1. 꼬리가 없는가(꼬리가 있는 라인에는 들어가지 않음(만약에 모든 층의 모든 라인이 꼬리가 있는 라인이라면)) && 나를 수용할 수 있는 라인인가
   2. 최대 수용인원이 차지 않은 방 중 최대 방 수용인원 - 1 (6)이 되는 라인을 찾는다.
   3. 최대 수용인원이 차지 않은 방 중 최대 방 수용인원 - 2 (5)이 되는 라인을 찾는다.
   4. 펑

2. 앞서 들어간 교회의 나머지와 합쳐서 최대 방 수용인원이 되는 교회를 찾아 해당 라인에 이어서 배정하기 
   (이 때, 해당 라인에 들어갈 수 있는 인원 수여야 함.)
3. 그다음 인원 수 많은 교회부터 다시 위의 로직 반복하기

4. 들어갈 라인이 없어지면 
   1. 최대 수용인원이 차지 않은 방 중 최대 방 수용인원 - 1 (6)이 되는 라인을 찾는다.
   2. 최대 수용인원이 차지 않은 방 중 최대 방 수용인원 - 2 (5)이 되는 라인을 찾는다.
   3. 없으면 그냥 되는 라인의 마지막 배정된 방의 다음방에 배정함

5. 최대 수용인원 보다 작은 인원 수의 교회는 최대한 2교회를 배정하되, 안되면 3교회 안되면 4교회까지 합쳐서 배정한다.
   1. 최대 수용인원이 차지 않은 방 중 최대 방 수용인원 - 1 (6)이 되는 라인을 찾는다.
   2. 최대 수용인원이 차지 않은 방 중 최대 방 수용인원 - 2 (5)이 되는 라인을 찾는다.






============================================
한 교회의 인원을 한 방의 수용 가능인원으로 나눈 몫과 나머지가 있을 때
몫+1(나머지0인경우제외)가 그 교회가 가지는 방 수이며,
나머지가 합하여7이 되는 교회끼리 겹치게 배정하되, 들어갈 자리가 없을 시  1. 해당 방 비워두고 배정(5번 라인일 경우)
 2. 한방 수용가능인원 -2까지는 그냥 배정(우선순위 -1 > -2)

============================================
**1. 기숙사 구성 및 예외조건**
```
기숙사는 여러개의 층으로 구성되어 있다.
한 개의 층은 여러개의 라인으로 구성되어 있다.
한 개의 라인은 여러개의 방으로 구성되어 있다.
하나의 방은 기본적으로 최대 7명의 인원을 수용 가능하다.
```
```
예외) 사용자가 특정 방의 최대 인원을 변경할 수 있다.
예외) 사용자가 특정 방을 폐쇄할 수 있다(최대 인원을 0으로 변경)
```

<br/>

**2. 하나의 교회에 속한 모든 인원은 하나의 기숙사 라인 내에 연속적으로 배정되어야 한다.**
```
예시) 
A교회의 남자 인원이 40명이고 특정 라인의 방의 개수가 5개 이하라면, 해당 라인은 최대 수용 가능 인원이 35명이기 때문에 A교회를 수용할 수 없다.
이 경우 A교회는 방이 6개 이상인 라인에 배정하여야한다.
```

<br/>

**3. 교회는 연속적으로 배정되어야 한다.** 
```
예시)
A교회의 남자 인원이 25명, B교회의 남자 인원이 17명, 특정 라인(이하 라인1)의 방 개수가 6개라고 가정하자.
라인1에 A교회를 배정하면 A교회는 1,2,3번 방에 각 7명씩, 남은 4명은 4번방에 배정된다.
이 때, 4번방은 아직 최대 수용인원을 채우지 못했으므로 B교회 배정 시 4번방에 3명을 배정한 후 5,6번 방에 7명씩 배정을 한다.
```
```
주의) 
조건 간 우선순위는 2번 조건이 3번 조건보다 우선적이다.
위 예시에서 라인1의 방 개수가 5개라면 라인의 최대 수용 인원은 35명이고 라인1에 A교회 배정 후 수용 가능 인원은 10명이기 때문에 B교회 인원 17명을 배정 시 2번 조건을 위배하게 된다.
이 경우, B교회는 라인1에 배정되지 못하며 라인1에는 인원이 10명에 가장 근접한 교회를 배치한다. 

* 2번 조건 : 하나의 교회에 속한 모든 인원은 하나의 기숙사 라인 내에 연속적으로 배정되어야 한다
* 3번 조건 : 교회는 연속적으로 배정되어야 한다.
```

**4. 배정 순서는 인원수를 기준으로한다.**
```
인원이 많은 교회부터 배정을 시작한다
```

**5. 배정은 저층을 우선으로 한다.**
```
항상 배정은 저층을 우선으로 한다
예를 들어 A교회가 1층과 2층 모두에 배정될 수 있을 때 1층으로 배정한다.
```

**6. 연속된 배정을 우선으로 한다.** 
```
대형교회 A,B가 있다고 가정하자.
A교회를 1번 라인에 배정한 후 B교회 배정 판단을 내려야한다.
이 때, 아래 두가지 선택지 중 어느 것을 선택해야할까?
1. B교회의 배정 선택지는 B교회를 수용할 수 있는 다른 라인에 배치한다.
2. (A교회가 배정된 라인이 아직 B교회의 인원을 수용할 수 있을 경우) A교회와 연속적으로 배치한다. V
```
